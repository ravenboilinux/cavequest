<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Level1</name>
    <events>
        <variable constant="0" name="PlayerLayoutScore" sid="801769671193490" static="0" type="number">0</variable>
        <variable constant="0" name="PlayerOverAllScore" sid="752573201694946" static="0" type="number">0</variable>
        <variable comment="Max the player can have for battery level, plus the starting battery level for the level" constant="0" name="MaxPlayerBatteryLevel" sid="684149094820113" static="0" type="number">100</variable>
        <variable comment="Amount of Battery Level the player" constant="0" name="PlayerBatteryLevel" sid="227421447700642" static="0" type="number">100</variable>
        <variable comment="Amount of battery level is losted every tick" constant="0" name="TickBatteryLoss" sid="368766836931076" static="0" type="number">10</variable>
        <variable comment="the min that player can have for battery, if this level is every reached then game over" constant="0" name="MinPlayerBatteryLevel" sid="381945399964108" static="0" type="number">0</variable>
        <variable constant="0" name="DamageInv" sid="328376553669077" static="0" type="number">2</variable>
        <variable constant="0" name="KeyFound" sid="418237424515175" static="0" type="number">0</variable>
        <comment>Use the down arrow to allow the player to deliberately drop down through a jump-thru platform.</comment>
        <event-block sid="315660728790927">
            <conditions>
                <condition id="0" name="On key pressed" sid="815402979548000" type="Keyboard">
                    <param id="0" name="Key">40</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="12" name="Fall through" sid="814298886935286" type="Player" />
            </actions>
        </event-block>
        <comment>Allow WASD as alternate controls to arrow keys.</comment>
        <event-block sid="107612132462241">
            <conditions>
                <condition id="2" name="Key is down" sid="709324588929686" type="Keyboard">
                    <param id="0" name="Key">87</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="7" name="Simulate control" sid="143712798298226" type="Player">
                    <param id="0" name="Control">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="469547455355667">
            <conditions>
                <condition id="2" name="Key is down" sid="292618556003402" type="Keyboard">
                    <param id="0" name="Key">65</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="7" name="Simulate control" sid="215566016932631" type="Player">
                    <param id="0" name="Control">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="224359903552204">
            <conditions>
                <condition id="2" name="Key is down" sid="297513089375956" type="Keyboard">
                    <param id="0" name="Key">83</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="12" name="Fall through" sid="532614073077034" type="Player" />
            </actions>
        </event-block>
        <event-block sid="911426487452573">
            <conditions>
                <condition id="2" name="Key is down" sid="104912898462728" type="Keyboard">
                    <param id="0" name="Key">68</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="7" name="Simulate control" sid="329700864321440" type="Player">
                    <param id="0" name="Control">1</param>
                </action>
            </actions>
        </event-block>
        <comment>Mirror the player&apos;s image so they appear facing the right way when moving left or right.</comment>
        <event-block any="1" sid="779750275264440">
            <conditions>
                <condition id="0" name="On key pressed" sid="925334643919233" type="Keyboard">
                    <param id="0" name="Key">37</param>
                </condition>
                <condition id="0" name="On key pressed" sid="238843184224407" type="Keyboard">
                    <param id="0" name="Key">65</param>
                </condition>
            </conditions>
            <actions>
                <action id="7" name="Set mirrored" sid="427519002018001" type="Player">
                    <param id="0" name="State">0</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="360373119206866">
            <conditions>
                <condition id="0" name="On key pressed" sid="706986210317608" type="Keyboard">
                    <param id="0" name="Key">39</param>
                </condition>
                <condition id="0" name="On key pressed" sid="398578899598962" type="Keyboard">
                    <param id="0" name="Key">68</param>
                </condition>
            </conditions>
            <actions>
                <action id="7" name="Set mirrored" sid="678024554304746" type="Player">
                    <param id="0" name="State">1</param>
                </action>
            </actions>
        </event-block>
        <comment>If the player falls off the bottom of the layout, restart the level.</comment>
        <event-block sid="191486692258233">
            <conditions>
                <condition id="-2" name="Compare Y" sid="551346515859607" type="Player">
                    <param id="0" name="Comparison">4</param>
                    <param id="1" name="Y co-ordinate">LayoutHeight</param>
                </condition>
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="280948535208164" type="System" />
                <action id="-9" name="Set value" sid="649105712193494" type="System">
                    <param id="0" name="Variable">KeyFound</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="-9" name="Set value" sid="751553678409936" type="System">
                    <param id="0" name="Variable">PlayerBatteryLevel</param>
                    <param id="1" name="Value">MaxPlayerBatteryLevel</param>
                </action>
                <action id="-11" name="Subtract from" sid="442241224199707" type="System">
                    <param id="0" name="Variable">PlayerOverAllScore</param>
                    <param id="1" name="Value">PlayerLayoutScore</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="695638979971930">
            <conditions>
                <condition id="2" name="Key is down" sid="146578369511343" type="Keyboard">
                    <param id="0" name="Key">73</param>
                </condition>
            </conditions>
            <actions />
        </event-block>
        <comment>Player pickup the key item</comment>
        <event-block sid="940550134719690">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="154867437569515" type="Player">
                    <param id="0" name="Object">Key</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="862813763455570" type="Key" />
                <action id="-9" name="Set value" sid="102221849448232" type="System">
                    <param id="0" name="Variable">KeyFound</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <comment>Player pickup the battery item</comment>
        <event-block sid="211841522491689">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="762546946969302" type="Player">
                    <param id="0" name="Object">Battery</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="889138051216125" type="System">
                    <param id="0" name="Variable">PlayerBatteryLevel</param>
                    <param id="1" name="Value">clamp(PlayerBatteryLevel+Battery.BatteryLevelRestored,MinPlayerBatteryLevel,MaxPlayerBatteryLevel)</param>
                </action>
                <action id="-9" name="Destroy" sid="516755821179282" type="Battery" />
                <action id="0" name="Set text" sid="986969345468629" type="BatteryLevel">
                    <param id="0" name="Text">&quot;Battery Level: &quot; &amp; PlayerBatteryLevel</param>
                </action>
            </actions>
        </event-block>
        <comment>Every Tick remove amount from player battery level</comment>
        <event-block sid="871485566874218">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="542650858018055" type="System">
                    <param id="0" name="Interval (seconds)">1.0</param>
                </condition>
            </conditions>
            <actions>
                <action disabled="1" id="-9" name="Set value" sid="335134077487388" type="System">
                    <param id="0" name="Variable">PlayerBatteryLevel</param>
                    <param id="1" name="Value">clamp(PlayerBatteryLevel-TickBatteryLoss,MinPlayerBatteryLevel,MaxPlayerBatteryLevel)</param>
                </action>
                <action id="0" name="Set text" sid="630192161535375" type="BatteryLevel">
                    <param id="0" name="Text">&quot;Battery Level: &quot; &amp; PlayerBatteryLevel</param>
                </action>
            </actions>
        </event-block>
        <comment>Player Jump on Frog, Frog goes bye</comment>
        <event-block sid="122223741653065">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="999152256956830" type="Player">
                    <param id="0" name="Object">Frog</param>
                </condition>
                <condition id="-2" name="Compare Y" sid="759860033212147" type="Player">
                    <param id="0" name="Comparison">2</param>
                    <param id="1" name="Y co-ordinate">Frog.Y</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="853093131396151" type="Frog" />
            </actions>
        </event-block>
        <comment>Player touches frog and take damage(ie loses battery level) and set the player to not take anymore damage</comment>
        <event-block sid="551228722385101">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="521990405041035" type="Player">
                    <param id="0" name="Object">Frog</param>
                </condition>
                <condition id="-2" name="Compare Y" sid="471639863295305" type="Player">
                    <param id="0" name="Comparison">5</param>
                    <param id="1" name="Y co-ordinate">Frog.Y</param>
                </condition>
                <condition id="-8" name="Is boolean instance variable set" sid="476227598108401" type="Player">
                    <param id="0" name="Instance variable">CanTakeDamager</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="630308701684619" type="System">
                    <param id="0" name="Variable">PlayerBatteryLevel</param>
                    <param id="1" name="Value">clamp(PlayerBatteryLevel-Frog.TouchDamage,MinPlayerBatteryLevel,MaxPlayerBatteryLevel)</param>
                </action>
                <action id="-13" name="Set boolean" sid="360193176474089" type="Player">
                    <param id="0" name="Instance variable">CanTakeDamager</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="0" name="Call function" sid="463544026339145" type="Function">
                    <param id="0" name="Name">&quot;setPlayerBatteryLevel&quot;</param>
                    <param id="1" name="Parameter {n}">Frog.TouchDamage*-1</param>
                </action>
            </actions>
        </event-block>
        <comment>Reset Player Damage Inv</comment>
        <event-block sid="929621415852449">
            <conditions>
                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="202669998076309" type="Player">
                    <param id="0" name="Instance variable">CanTakeDamager</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="487199316445824" type="System">
                    <param id="0" name="Interval (seconds)">DamageInv</param>
                </condition>
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="763140345492475" type="Player">
                    <param id="0" name="Instance variable">CanTakeDamager</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <comment>Game Over</comment>
        <event-block sid="313295056443850">
            <conditions>
                <condition id="-14" name="Compare variable" sid="846018804644357" type="System">
                    <param id="0" name="Variable">PlayerBatteryLevel</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">MinPlayerBatteryLevel</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="895234903016626" type="System">
                    <param id="0" name="Layout">Game Over</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="510643193285186">
            <conditions>
                <condition id="-2" name="On start of layout" sid="427188507514737" type="System" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="134350911397934" type="Frog">
                    <param id="0" name="X">Frog.X+175</param>
                    <param id="1" name="Y">Frog.Y</param>
                </action>
                <action id="-9" name="Set value" sid="456256866503963" type="System">
                    <param id="0" name="Variable">PlayerBatteryLevel</param>
                    <param id="1" name="Value">MaxPlayerBatteryLevel</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="450856020343900">
            <conditions>
                <condition behavior="Pathfinding" id="0" name="On path found" sid="240106204838528" type="Frog" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="1" name="Move along path" sid="449350761836917" type="Frog" />
            </actions>
        </event-block>
        <event-block sid="119023347267427">
            <conditions>
                <condition id="0" name="On function" sid="151144430839356" type="Function">
                    <param id="0" name="Name">&quot;setPlayerBatteryLevel&quot;</param>
                </condition>
            </conditions>
            <actions />
        </event-block>
        <event-block sid="932417292869751">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="939539695754061" type="Player">
                    <param id="0" name="Object">Gems</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="394214412961359" type="Gems" />
                <action id="-10" name="Add to" sid="836620804229283" type="System">
                    <param id="0" name="Variable">PlayerLayoutScore</param>
                    <param id="1" name="Value">Gems.Value</param>
                </action>
                <action id="-10" name="Add to" sid="859469658926111" type="System">
                    <param id="0" name="Variable">PlayerOverAllScore</param>
                    <param id="1" name="Value">Gems.Value</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
